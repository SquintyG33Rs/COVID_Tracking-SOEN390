<ion-content>

  <div>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="home-page" text="" icon="/assets/icon/back.svg" style="padding-left: 15px;"></ion-back-button>
      </ion-buttons>
  </div>

  <div class="ion-text-center">
    <h1><b>Patient List</b></h1>
  </div>

  <div>
    <ion-list lines="none" class="bg-transparent ">
      <ion-item-sliding *ngFor="let patient of fullPatientList">
          <ion-item no-lines color="none" (click)="infoAlert(patient)">
            <ion-thumbnail *ngIf ="patient.user.profile_picture != null">
              <img   src="https://api.team23soen390.xyz{{patient.user.profile_picture.url}}">
            </ion-thumbnail>
            <ion-thumbnail *ngIf ="patient.user.profile_picture == null">
              <img   src='/assets/images/default-profile-pic.jpg'>
            </ion-thumbnail>
            <ion-label><a>{{patient.user.first_name}} {{patient.user.last_name}} ({{patient.user.email}})</a></ion-label>
          </ion-item>
        <ion-item-options side="start">
          <ion-item-option *ngIf ="!patient.patient.flagged" (click)="flagPatient(patient)" expandable style="background-color: red;">Flag</ion-item-option>
          <ion-item-option *ngIf ="patient.patient.flagged" (click)="unflagPatient(patient)" expandable style="background-color: green;">Unflag</ion-item-option>
          <ion-item-option color="secondary" (click)="sendMessage(patient)">Message</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </div>
</ion-content>

